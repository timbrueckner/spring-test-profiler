<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${'Spring Test Insight Report' + (phase != 'default' ? ' (' + phase.toUpperCase() + ' Phase)' : '')}">Spring Test Insight Report</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ§ª</text></svg>">
    <style th:utext="${cssContent}"></style>
</head>
<body>
    <div class="container">
        <h1 th:text="${'Spring Test Insight Report' + (phase != 'default' ? ' (' + phase.toUpperCase() + ' Phase)' : '')}">Spring Test Insight Report</h1>
        <div class="timestamp" th:text="${'Generated at: ' + generatedAt}">Generated at: 2025-01-01 12:00:00</div>
        
        <!-- Theory Section Fragment -->
        <div th:replace="~{fragments/theory :: theory-section}"></div>
        
        <!-- Summary Section Fragment -->
        <div th:replace="~{fragments/summary :: summary-section(${executionTracker}, ${cacheStats})}"></div>
        
        <!-- Context Caching Statistics Fragment -->
        <div th:replace="~{fragments/caching :: caching-section(${cacheStats}, ${contextCacheTracker})}"></div>
        
        <!-- Context Configurations Fragment -->
        <div th:replace="~{fragments/configurations :: configurations-section}"></div>
        
        <!-- Test Execution Details Fragment -->
        <div th:replace="~{fragments/test-execution :: test-execution-section(${executionTracker})}"></div>
        
    </div>
    
    <script>
        function toggleClass(element) {
            const methods = element.nextElementSibling;
            methods.classList.toggle('show');
        }
        
        function toggleTheorySection() {
            const content = document.getElementById('theory-content');
            const icon = document.getElementById('theory-toggle-icon');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                icon.textContent = 'â–¼';
                icon.classList.add('expanded');
            } else {
                content.style.display = 'none';
                icon.textContent = 'â–¶';
                icon.classList.remove('expanded');
            }
        }
    </script>
</body>
</html>